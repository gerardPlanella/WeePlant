{% extends 'base.html.twig' %}


{% block stylesheets %}
    <link rel="shortcut icon" href="{{ asset('vr/TemplateData/favicon.ico') }}">
    <link rel="stylesheet" href="{{ asset('vr/TemplateData/style.css') }}">
    <style>
        .chart-container {
            width: 100%;
            height: 450px
        }
    </style>
{% endblock %}


{% block body %}
    <div id="page-wrapper">
        <div class="container-fluid">
            <div class="white-box">
                <div class="row" style="margin-left: 50px; margin-right: 50px; margin-top: 30px">
                    <h3 class="box-title">Informacion general</h3>
                    <hr>
                    <div class="col-md-3 col-sm-12 col-xs-12" style="padding-top: 27px;">
                        <div class="white-box-shadow text-center bg-info" id="statusRobot">
                            <h1 class="text-white" id="textStatusRobot">Obteniendo...</h1>
                            <p class="text-white">Estado del robot</p>
                        </div>
                    </div>
                    <div class="col-md-3 col-sm-12 col-xs-12" style="padding-top: 27px;">
                        <div class="white-box-shadow text-center bg-inverse">
                            <h1 class="text-white">Embalaje</h1>
                            <p class="text-white">Tarea Actual</p>
                        </div>
                    </div>
                    <div class="col-md-6 col-lg-6 col-sm-12">
                        <div class="white-box">
                            <ul class="basic-list">
                                <li>Versión de Software<span
                                            class="pull-right label-danger label">5.2.0.61336</span></li>
                                <li>Modelo<span class="pull-right label-info label">Robot UR3</span></li>
                                <li>Numero de Serie<span class="pull-right label-warning label">20185300040</span>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
                <div class="row" style="margin-left: 50px; margin-right: 50px; margin-top: 10px">
                    <div class="col-md-3 col-xs-12 col-sm-6">
                        <div class="white-box-shadow m-b-0 bg-danger">
                            <h3 class="text-white box-title">Funcionamiento<span class="pull-right"><i
                                            class="fa fa-caret-up"></i> 260</span></h3>
                            <div id="sparkline4dash">
                                <canvas style="display: inline-block; width: 286px; height: 70px; vertical-align: top;"
                                        width="286" height="70"></canvas>
                            </div>
                        </div>
                        <div class="white-box-shadow">
                            <div class="row">
                                <div class="pull-left">
                                    <div class="text-muted m-t-20">Med. Funcionamiento</div>
                                    <h2>210s</h2>
                                </div>
                                <div data-label="60%"
                                     class="css-bar css-bar-60 css-bar-lg m-b-0 css-bar-danger pull-right"></div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-3 col-xs-12 col-sm-6">
                        <div class="white-box-shadow m-b-0 bg-info">
                            <h3 class="text-white box-title">Paradas<span class="pull-right"><i
                                            class="fa fa-caret-down"></i> 2</span></h3>
                            <div id="sparkline1dash" class="text-center">
                                <canvas style="display: inline-block; width: 215px; height: 70px; vertical-align: top;"
                                        width="215" height="70"></canvas>
                            </div>
                        </div>
                        <div class="white-box-shadow">
                            <div class="row">
                                <div class="pull-left">
                                    <div class="text-muted m-t-20">Med. Parada dia</div>
                                    <h2>4</h2>
                                </div>
                                <div data-label="60%"
                                     class="css-bar css-bar-60 css-bar-lg m-b-0  css-bar-info pull-right"></div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-3 col-xs-12 col-sm-6">
                        <div class="white-box-shadow m-b-0 bg-purple">
                            <h3 class="text-white box-title">Temperatura Ambiente<span
                                        class="pull-right"><i
                                            class="fa fa-caret-up"></i> 5</span></h3>
                            <div id="sparkline2dash">
                                <canvas style="display: inline-block; width: 286px; height: 70px; vertical-align: top;"
                                        width="286" height="70"></canvas>
                            </div>
                        </div>
                        <div class="white-box-shadow">
                            <div class="row">
                                <div class="pull-left">
                                    <div class="text-muted m-t-20">Med. Temperatura</div>
                                    <h2>34 grados</h2>
                                </div>
                                <div data-label="60%"
                                     class="css-bar css-bar-60 css-bar-lg m-b-0 css-bar-purple pull-right"></div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-3 col-xs-12 col-sm-6">
                        <div class="white-box-shadow m-b-0 bg-inverse">
                            <h3 class="text-white box-title">Consumo de Energía<span
                                        class="pull-right"><i
                                            class="fa fa-caret-down"></i>7</span></h3>
                            <div id="sparkline3dash" class="text-center">
                                <canvas style="display: inline-block; width: 215px; height: 70px; vertical-align: top;"
                                        width="215" height="70"></canvas>
                            </div>
                        </div>
                        <div class="white-box-shadow">
                            <div class="row">
                                <div class="pull-left">
                                    <div class="text-muted m-t-20">Med. consumo</div>
                                    <h2>58.45W</h2>
                                </div>
                                <div data-label="60%"
                                     class="css-bar css-bar-60 css-bar-lg m-b-0 css-bar-inverse pull-right"></div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="row" style="margin: 50px">
                    <div class="col-md-6 col-xs-12 col-sm-6">
                        <h3 class="box-title">Control del robot</h3>
                        <hr>
                        <div style="margin-top: 5px;margin-bottom: 20px">
                            <code>Enviar acciones al robot</code>
                        </div>
                        <input id="inputActionSend" type="text" class="form-control" placeholder="Escribir el mensaje">
                        <div class="button-box" style="padding: 10px">
                            <button aria-expanded="false" data-toggle="dropdown" class="fcbtn btn btn-info btn-outline btn-1e dropdown-toggle" type="button">Cargar programa<span
                                        class="caret"></span></button>
                            <ul role="menu" class="dropdown-menu">
                                <li><a href="#" id="empaquetaje">Empaquetaje</a></li>
                                <li><a href="#" id="montaje">Montaje</a></li>
                            </ul>
                            <button id="stopRobot" class="fcbtn btn btn-danger btn-outline btn-1e">Parada</button>
                            <button id="pauseRobot" class="fcbtn btn btn-warning btn-outline btn-1e">Pausa</button>
                            <button id="resumeRobot" class="fcbtn btn btn-success btn-outline btn-1e">Continuar</button>
                        </div>
                    </div>
                    <div class="col-md-6 col-xs-12 col-sm-6">
                        <h3 class="box-title">Comunicacion con el robot</h3>
                        <hr>
                        <div style="margin-top: 5px;">
                            <code>Enviar comando de voz</code>
                        </div>
                        <div class="input-group" style="margin-top: 20px">
                            <input id="inputTextSend" type="text" class="form-control" placeholder="Escribir el mensaje al ejecutar la acción"> <span class="input-group-btn">
                                    <button class="fcbtn btn btn-primary btn-outline btn-1e" type="button" id="sendButton">Enviar</button>
                                    </span>
                        </div>
                    </div>
                </div>
                <div class="row" style="margin: 50px">
                    <h3 class="box-title">Estadisticas en tiempo real</h3>
                    <hr>
                    <div class="vtabs">
                        <ul class="nav tabs-vertical" id="jointTabs">
                            <li class="tab active">
                                <a data-toggle="tab" href="#joint0" aria-expanded="true"> <span
                                            class="visible-xs"><i class="ti-home"></i></span> <span
                                            class="hidden-xs">Base</span> </a>
                            </li>
                            <li class="tab">
                                <a data-toggle="tab" href="#joint1" aria-expanded="false"> <span
                                            class="visible-xs"><i
                                                class="ti-user"></i></span> <span
                                            class="hidden-xs">Hombro</span>
                                </a>
                            </li>
                            <li class="tab">
                                <a aria-expanded="false" data-toggle="tab" href="#joint2"> <span
                                            class="visible-xs"><i
                                                class="ti-email"></i></span> <span
                                            class="hidden-xs">Codo</span>
                                </a>
                            </li>
                            <li class="tab">
                                <a aria-expanded="false" data-toggle="tab" href="#joint3"> <span
                                            class="visible-xs"><i
                                                class="ti-email"></i></span> <span
                                            class="hidden-xs">Muñeca 1</span>
                                </a>
                            </li>
                            <li class="tab">
                                <a aria-expanded="false" data-toggle="tab" href="#joint4"> <span
                                            class="visible-xs"><i
                                                class="ti-email"></i></span> <span
                                            class="hidden-xs">Muñeca 2</span>
                                </a>
                            </li>
                            <li class="tab">
                                <a aria-expanded="false" data-toggle="tab" href="#joint5"> <span
                                            class="visible-xs"><i
                                                class="ti-email"></i></span> <span
                                            class="hidden-xs">Muñeca 3</span>
                                </a>
                            </li>
                        </ul>
                        <div class="tab-content" style="width: 92%;">
                            {% set chart = 0 %}
                            {% set panel = 0 %}
                            {% set names = ["base", "hombro", "codo", "muñeca 1", "muñeca 2", "muñeca 3"] %}
                            {% for i in 0..5 %}
                                <div role="tabpanel" class="tab-pane {% if i == 0 %}active{% endif %}"
                                     id="joint{{ i }}">
                                    <!-- ROW CHARTS -->
                                    <div style="text-align: center">
                                        <div id="loadingWheel{{ i }}" style="text-align: center;">
                                            <div class="cssload-speeding-wheel" style="margin-top: 80px;margin-bottom: -50px"></div>
                                        </div>
                                        <label id="nodata{{ i }}" style="margin-top: 80px">No hay datos disponibles</label>
                                        <label id="loadinggraphs{{ i }}" style="margin-top: 80px">Cargando graficas...</label>
                                    </div>
                                    <section id="infoTabs{{ i }}">
                                        <div class="sttabs tabs-style-line">
                                            <nav>
                                                <ul id="selectedTabsTCV">
                                                    <li><a href="#section-line-1"><span>Temperatura</span></a></li>
                                                    <li><a href="#section-line-2"><span>Corriente</span></a>
                                                    </li>
                                                    <li><a href="#section-line-3"><span>Voltage</span></a>
                                                    </li>
                                                </ul>
                                            </nav>
                                            <div class="content-wrap">
                                                <div class="col-lg-6 col-sm-6 col-xs-12">
                                                    <p class="text-muted" style="padding-top: 20px;">Selecciona la escala a mostrar</p>
                                                    <!-- Nav tabs -->
                                                    <ul class="nav customtab nav-tabs" role="tablist">
                                                        <li role="presentation" class="active"><a href="#minutes{{ i }}" aria-controls="home" role="tab" data-toggle="tab" aria-expanded="true"><span class="visible-xs"><i
                                                                            class="ti-home"></i></span><span class="hidden-xs"> Minutos</span></a></li>
                                                        <li role="presentation" class=""><a href="#hours{{ i }}" aria-controls="profile" role="tab" data-toggle="tab" aria-expanded="false"><span class="visible-xs"><i
                                                                            class="ti-user"></i></span> <span class="hidden-xs">Horas</span></a></li>
                                                        <li role="presentation" class=""><a href="#days{{ i }}" aria-controls="messages" role="tab" data-toggle="tab" aria-expanded="false"><span class="visible-xs"><i
                                                                            class="ti-email"></i></span> <span class="hidden-xs">Dias</span></a></li>
                                                    </ul>
                                                    <!-- Tab panes -->
                                                    <div class="tab-content">
                                                        <div role="tabpanel" class="tab-pane fade active in" id="minutes{{ i }}">
                                                        </div>
                                                        <div role="tabpanel" class="tab-pane fade" id="hours{{ i }}">
                                                        </div>
                                                        <div role="tabpanel" class="tab-pane fade" id="days{{ i }}">
                                                        </div>
                                                    </div>
                                                </div>
                                                <section id="section-line-1" style="padding-bottom: 110px" class="content-current">
                                                    <div class="chart-container" style="text-align: center">
                                                        <canvas id="chartContainer{{ chart }}" width="1200"
                                                                height="500"></canvas>
                                                    </div>
                                                    {% set chart = chart + 1 %}
                                                </section>
                                                <section id="section-line-2" style="padding-bottom: 110px">
                                                    <div class="chart-container">
                                                        <canvas id="chartContainer{{ chart }}" width="1200"
                                                                height="500"></canvas>
                                                    </div>
                                                    {% set chart = chart + 1 %}
                                                </section>
                                                <section id="section-line-3" style="padding-bottom: 110px">
                                                    <div class="chart-container">
                                                        <canvas id="chartContainer{{ chart }}" width="1200"
                                                                height="500"></canvas>
                                                    </div>
                                                    {% set chart = chart + 1 %}
                                                </section>
                                            </div>
                                            <!-- /content -->
                                        </div>
                                        <!-- /tabs -->
                                    </section>
                                    <!-- ROW EXTRA -->
                                    <div class="row" id="boxTabs{{ i }}" style="margin-top: 50px">
                                        <div class="col-md-4 col-sm-12 col-xs-12">
                                            <div class="white-box-shadow bg-theme">
                                                <h3 class="box-title text-white">Temperatura {{ names[i] }}</h3>
                                                <ul class="list-inline two-part">
                                                    <li>
                                                        <i class="icon-arrow-right-circle text-white"></i>
                                                    </li>
                                                    <li class="text-right text-white"><span
                                                                class="counter" id="temperature{{ i }}">...</span>
                                                    </li>
                                                </ul>
                                            </div>
                                        </div>
                                        <div class="col-md-4 col-sm-12 col-xs-12">
                                            <div class="white-box-shadow bg-theme-dark">
                                                <h3 class="box-title text-white">Corriente {{ names[i] }}</h3>
                                                <ul class="list-inline two-part">
                                                    <li><i class="icon-settings text-white"></i></li>
                                                    <li class="text-right text-white"><span
                                                                class="counter"
                                                                id="current{{ i }}">...</span></li>
                                                </ul>
                                            </div>
                                        </div>
                                        <div class="col-md-4 col-sm-12 col-xs-12">
                                            <div class="white-box-shadow bg-info">
                                                <h3 class="box-title text-white">Voltaje {{ names[i] }}</h3>
                                                <ul class="list-inline two-part">
                                                    <li><i class="icon-reload text-white"></i></li>
                                                    <li class="text-right text-white"><span
                                                                class="counter"
                                                                id="voltage{{ i }}">...</span></li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>

                                </div>
                            {% endfor %}
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- /#page-wrapper -->
{% endblock %}

{% block scripts %}
    <script src="{{ asset('js/sweetalert.min.js') }}"></script>
    <script src="{{ asset('js/jquery.canvasjs.min.js') }}"></script>
    <script src="{{ asset('js/cbpFWTabs.js') }}"></script>
    <!--<script src="{{ asset('vr/TemplateData/UnityProgress.js') }}"></script>
    <script src="{{ asset('vr/Build/UnityLoader.js') }}"></script>-->
    <script>
        (function () {

            [].slice.call(document.querySelectorAll('.sttabs')).forEach(function (el) {
                new CBPFWTabs(el);
            });

        })();
        //var gameInstance = UnityLoader.instantiate("gameContainer", "{{ asset('vr/Build/try2.json') }}", {onProgress: UnityProgress});
    </script>
    <script src="{{ asset('js/custom/realtime.js') }}"></script>
{% endblock %}